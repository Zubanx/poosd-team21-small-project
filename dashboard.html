<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Quantico:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Special+Gothic+Condensed+One&display=swap" rel="stylesheet">
	<title>Contact Manager</title>
	<script type="text/javascript" src="js/code.js"></script>
	<script type="text/javascript" src="js/dashboard.js"></script>
  <link href="css/styles.css" rel="stylesheet">	
	<script type="text/javascript">

	document.addEventListener('DOMContentLoaded', function() {
		readSession(); //check if user is logged in
		loadContacts(); //load all contacts
	});
	</script>
</head>
<body>

<h2 id="userName"></h2>
<button id = "logoutButton" onclick="doLogout()">Logout</button>

<h3 id="contactTitles">ADD CONTACT</h3>
<form id="contactForm" onsubmit="event.preventDefault(); addContact();">
    <input id="contactFirstName" placeholder="First Name" required>
    <input id="contactLastName" placeholder="Last Name" required>
    <input id="contactPhone" placeholder="Phone">
    <input id="contactEmail" placeholder="Email">
    <button id = "addContactButton" type="submit">Add Contact</button>
</form>

<h3 id="contactTitles">SEARCH CONTACTS</h3>

<input id="searchInput" placeholder="Search..." oninput="searchContact()">

<table id="contactTable" border="1" cellpadding="10" cellspacing="0">
  <tr>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Phone</th>
    <th>Email</th>
    <th>Actions</th>
  </tr>
</table>

<dialog class="modal" id="modal">
  <h2>Edit Contact</h2>
  <button class="button close-button" type="button">close</button>
  
  <form id="editContactForm" onsubmit="event.preventDefault(); submitEditModal();">
    <input id="editFirstName" placeholder="First Name" required>
    <input id="editLastName" placeholder="Last Name" required>
    <input id="editPhone" placeholder="Phone">
    <input id="editEmail" placeholder="Email">
    <input type="hidden" id="editContactId"> <!-- store contact ID -->
    <button type="submit">Save Changes</button>
  </form>
</dialog>


<dialog class="modal" id="deleteModal">
  <h2>Delete Contact</h2>
  <p>Are you sure you want to delete this contact?</p>
  
  <div class="modal-buttons">
    <button id = 'cancelButton' class="close-button">Cancel</button>
    <button id="confirmDelete" class="delete-confirm">Delete</button>
  </div>
</dialog>

</body>
</html>	
